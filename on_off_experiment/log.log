02:15:16 - run_pyclm.py 	 - INFO     - loaded config from pyclm_config.toml
02:15:16 - controller.py 	 - INFO     - camera properties: CameraProperties(roi=ROI(x_offset=0, y_offset=0, width=512, height=512), pixel_size_um=0.108)
02:15:16 - pattern_process.py 	 - INFO     - initializing pattern model "circle"
02:15:16 - pattern_process.py 	 - INFO     - initializing pattern model "circle"
02:15:16 - pattern.py   	 - INFO     - model circle updated pixel size (um) to 0.432
02:15:16 - pattern.py   	 - INFO     - model circle updated pattern_shape to (128.0, 128.0)
02:15:16 - pattern.py   	 - INFO     - model circle updated pixel size (um) to 0.432
02:15:16 - pattern.py   	 - INFO     - model circle updated pattern_shape to (128.0, 128.0)
02:15:16 - microscope.py 	 - WARNING  - SLM Device not initialized, using dummy slm
02:15:16 - base_process.py 	 - INFO     - Started microscope outbox
02:15:16 - base_process.py 	 - INFO     - Started slm buffer
02:15:16 - base_process.py 	 - INFO     - Started segmentation
02:15:16 - base_process.py 	 - INFO     - Started pattern
02:15:16 - microscope.py 	 - INFO     - moving to xy [0.0, 0.0]
02:15:16 - microscope.py 	 - INFO     - moving to z position 0.0
02:15:16 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:15:16 - microscope.py 	 - INFO     - move+focus took 0.000
02:15:16 - manager.py   	 - INFO     - SLM buffer received data from slm
02:15:16 - microscope.py 	 - INFO     - experiment on.00: dummy slm set image
02:15:16 - microscope.py 	 - INFO     - setting config groups:
02:15:16 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:15:16 - microscope.py 	 - INFO     - System = Startup
02:15:16 - microscope.py 	 - INFO     - Channel = DMD
02:15:16 - microscope.py 	 - INFO     - LightPath = DMD
02:15:16 - microscope.py 	 - INFO     - Laser-Intensity = AllOff
02:15:16 - microscope.py 	 - INFO     - Sola = 30
02:15:16 - microscope.py 	 - INFO     - setting device properties:
02:15:16 - microscope.py 	 - INFO     -  0.006| waiting  2.894s until next acquisition
02:15:16 - manager.py   	 - INFO     - SLM buffer received data from slm
02:15:20 - microscope.py 	 - INFO     -  3.910| acquiring image: 1000ms
02:15:20 - microscope.py 	 - INFO     -  3.911| image acquired
02:15:20 - microscope.py 	 - INFO     - setting config groups:
02:15:20 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:15:20 - microscope.py 	 - INFO     - System = Startup
02:15:20 - microscope.py 	 - INFO     - Laser-Intensity = 70%
02:15:20 - microscope.py 	 - INFO     - LightPath = Fluor
02:15:20 - microscope.py 	 - INFO     - Channel = 638
02:15:20 - microscope.py 	 - INFO     - setting device properties:
02:15:21 - microscope.py 	 - INFO     -  4.917| acquiring image: 2000ms
02:15:21 - microscope.py 	 - INFO     -  4.918| image acquired
02:15:21 - microscope.py 	 - INFO     - moving to xy [500.0, 0.0]
02:15:21 - microscope.py 	 - INFO     - moving to z position 0.0
02:15:21 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:15:21 - microscope.py 	 - INFO     - move+focus took 0.000
02:15:21 - microscope.py 	 - INFO     - setting config groups:
02:15:21 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:15:21 - microscope.py 	 - INFO     - System = Startup
02:15:21 - microscope.py 	 - INFO     - Laser-Intensity = 70%
02:15:21 - microscope.py 	 - INFO     - LightPath = Fluor
02:15:21 - microscope.py 	 - INFO     - Channel = 638
02:15:21 - microscope.py 	 - INFO     - setting device properties:
02:15:21 - microscope.py 	 - INFO     -  4.918| waiting  0.982s until next acquisition
02:15:23 - microscope.py 	 - INFO     -  6.909| acquiring image: 2000ms
02:15:23 - microscope.py 	 - INFO     -  6.910| image acquired
02:16:16 - microscope.py 	 - INFO     - moving to xy [0.0, 0.0]
02:16:16 - microscope.py 	 - INFO     - moving to z position 0.0
02:16:16 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:16:16 - microscope.py 	 - INFO     - move+focus took 0.001
02:16:16 - manager.py   	 - INFO     - SLM buffer received data from slm
02:16:16 - microscope.py 	 - INFO     - experiment on.00: dummy slm set image
02:16:16 - microscope.py 	 - INFO     - setting config groups:
02:16:16 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:16:16 - microscope.py 	 - INFO     - System = Startup
02:16:16 - microscope.py 	 - INFO     - Channel = DMD
02:16:16 - manager.py   	 - INFO     - SLM buffer received data from slm
02:16:16 - microscope.py 	 - INFO     - LightPath = DMD
02:16:16 - microscope.py 	 - INFO     - Laser-Intensity = AllOff
02:16:16 - microscope.py 	 - INFO     - Sola = 30
02:16:16 - microscope.py 	 - INFO     - setting device properties:
02:16:16 - microscope.py 	 - INFO     -  60.004| waiting  2.896s until next acquisition
02:16:20 - microscope.py 	 - INFO     -  63.905| acquiring image: 1000ms
02:16:20 - microscope.py 	 - INFO     -  63.906| image acquired
02:16:20 - microscope.py 	 - INFO     - moving to xy [500.0, 0.0]
02:16:20 - microscope.py 	 - INFO     - moving to z position 0.0
02:16:20 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:16:20 - microscope.py 	 - INFO     - move+focus took 0.000
02:17:16 - microscope.py 	 - INFO     - moving to xy [0.0, 0.0]
02:17:16 - microscope.py 	 - INFO     - moving to z position 0.0
02:17:16 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:17:16 - microscope.py 	 - INFO     - move+focus took 0.001
02:17:16 - manager.py   	 - INFO     - SLM buffer received data from slm
02:17:16 - microscope.py 	 - INFO     - experiment on.00: dummy slm set image
02:17:16 - microscope.py 	 - INFO     - setting config groups:
02:17:16 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:17:16 - microscope.py 	 - INFO     - System = Startup
02:17:16 - microscope.py 	 - INFO     - Channel = DMD
02:17:16 - microscope.py 	 - INFO     - LightPath = DMD
02:17:16 - microscope.py 	 - INFO     - Laser-Intensity = AllOff
02:17:16 - microscope.py 	 - INFO     - Sola = 30
02:17:16 - microscope.py 	 - INFO     - setting device properties:
02:17:16 - microscope.py 	 - INFO     -  120.003| waiting  2.897s until next acquisition
02:17:16 - manager.py   	 - INFO     - SLM buffer received data from slm
02:17:20 - microscope.py 	 - INFO     -  123.901| acquiring image: 1000ms
02:17:20 - microscope.py 	 - INFO     -  123.902| image acquired
02:17:20 - microscope.py 	 - INFO     - moving to xy [500.0, 0.0]
02:17:20 - microscope.py 	 - INFO     - moving to z position 0.0
02:17:20 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:17:20 - microscope.py 	 - INFO     - move+focus took 0.000
02:18:16 - microscope.py 	 - INFO     - moving to xy [0.0, 0.0]
02:18:16 - microscope.py 	 - INFO     - moving to z position 0.0
02:18:16 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:18:16 - microscope.py 	 - INFO     - move+focus took 0.000
02:18:16 - microscope.py 	 - INFO     - experiment on.00: dummy slm set image
02:18:16 - microscope.py 	 - INFO     - setting config groups:
02:18:16 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:18:16 - microscope.py 	 - INFO     - System = Startup
02:18:16 - microscope.py 	 - INFO     - Channel = DMD
02:18:16 - microscope.py 	 - INFO     - LightPath = DMD
02:18:16 - microscope.py 	 - INFO     - Laser-Intensity = AllOff
02:18:16 - microscope.py 	 - INFO     - Sola = 30
02:18:16 - microscope.py 	 - INFO     - setting device properties:
02:18:16 - microscope.py 	 - INFO     -  180.003| waiting  2.897s until next acquisition
02:18:16 - manager.py   	 - INFO     - SLM buffer received data from slm
02:18:16 - manager.py   	 - INFO     - SLM buffer received data from slm
02:18:20 - microscope.py 	 - INFO     -  183.907| acquiring image: 1000ms
02:18:20 - microscope.py 	 - INFO     -  183.908| image acquired
02:18:20 - microscope.py 	 - INFO     - moving to xy [500.0, 0.0]
02:18:20 - microscope.py 	 - INFO     - moving to z position 0.0
02:18:20 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:18:20 - microscope.py 	 - INFO     - move+focus took 0.000
02:18:22 - controller.py 	 - WARNING  - KeyboardInterrupt caught in controller. Stopping all processes.
02:18:22 - controller.py 	 - INFO     - Waiting for all processes to exit...
02:18:22 - base_process.py 	 - INFO     - Force closing segmentation
02:18:22 - base_process.py 	 - INFO     - Stopped segmentation
02:18:22 - base_process.py 	 - INFO     - Force closing slm buffer
02:18:22 - base_process.py 	 - INFO     - Stopped slm buffer
02:18:22 - base_process.py 	 - INFO     - Force closing microscope outbox
02:18:22 - base_process.py 	 - INFO     - Stopped microscope outbox
02:18:22 - base_process.py 	 - INFO     - Force closing pattern
02:18:22 - base_process.py 	 - INFO     - Stopped pattern
02:18:22 - controller.py 	 - INFO     - Controller run finished.
02:18:44 - run_pyclm.py 	 - INFO     - loaded config from pyclm_config.toml
02:18:44 - controller.py 	 - INFO     - camera properties: CameraProperties(roi=ROI(x_offset=0, y_offset=0, width=512, height=512), pixel_size_um=0.108)
02:18:44 - pattern_process.py 	 - INFO     - initializing pattern model "circle"
02:18:44 - pattern_process.py 	 - INFO     - initializing pattern model "circle"
02:18:44 - pattern.py   	 - INFO     - model circle updated pixel size (um) to 0.432
02:18:44 - pattern.py   	 - INFO     - model circle updated pattern_shape to (128.0, 128.0)
02:18:44 - pattern.py   	 - INFO     - model circle updated pixel size (um) to 0.432
02:18:44 - pattern.py   	 - INFO     - model circle updated pattern_shape to (128.0, 128.0)
02:18:44 - microscope.py 	 - WARNING  - SLM Device not initialized, using dummy slm
02:18:44 - base_process.py 	 - INFO     - Started microscope outbox
02:18:44 - base_process.py 	 - INFO     - Started slm buffer
02:18:44 - base_process.py 	 - INFO     - Started segmentation
02:18:44 - base_process.py 	 - INFO     - Started pattern
02:18:44 - microscope.py 	 - INFO     - moving to xy [0.0, 0.0]
02:18:44 - microscope.py 	 - INFO     - moving to z position 0.0
02:18:44 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:18:44 - microscope.py 	 - INFO     - move+focus took 0.000
02:18:44 - manager.py   	 - INFO     - SLM buffer received data from slm
02:18:44 - microscope.py 	 - INFO     - experiment on.00: dummy slm set image
02:18:44 - microscope.py 	 - INFO     - setting config groups:
02:18:44 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:18:44 - microscope.py 	 - INFO     - System = Startup
02:18:44 - microscope.py 	 - INFO     - Channel = DMD
02:18:44 - microscope.py 	 - INFO     - LightPath = DMD
02:18:44 - microscope.py 	 - INFO     - Laser-Intensity = AllOff
02:18:44 - microscope.py 	 - INFO     - Sola = 30
02:18:44 - microscope.py 	 - INFO     - setting device properties:
02:18:44 - microscope.py 	 - INFO     -  0.004| waiting  2.896s until next acquisition
02:18:44 - manager.py   	 - INFO     - SLM buffer received data from slm
02:18:48 - microscope.py 	 - INFO     -  3.901| acquiring image: 1000ms
02:18:48 - microscope.py 	 - INFO     -  3.902| image acquired
02:18:48 - microscope.py 	 - INFO     - setting config groups:
02:18:48 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:18:48 - microscope.py 	 - INFO     - System = Startup
02:18:48 - microscope.py 	 - INFO     - Laser-Intensity = 70%
02:18:48 - microscope.py 	 - INFO     - LightPath = Fluor
02:18:48 - microscope.py 	 - INFO     - Channel = 638
02:18:48 - microscope.py 	 - INFO     - setting device properties:
02:18:49 - microscope.py 	 - INFO     -  4.906| acquiring image: 2000ms
02:18:49 - microscope.py 	 - INFO     -  4.907| image acquired
02:18:49 - microscope.py 	 - INFO     - moving to xy [50.0, 0.0]
02:18:49 - microscope.py 	 - INFO     - moving to z position 0.0
02:18:49 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:18:49 - microscope.py 	 - INFO     - move+focus took 0.000
02:18:49 - microscope.py 	 - INFO     - setting config groups:
02:18:49 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:18:49 - microscope.py 	 - INFO     - System = Startup
02:18:49 - microscope.py 	 - INFO     - Laser-Intensity = 70%
02:18:49 - microscope.py 	 - INFO     - LightPath = Fluor
02:18:49 - microscope.py 	 - INFO     - Channel = 638
02:18:49 - microscope.py 	 - INFO     - setting device properties:
02:18:49 - microscope.py 	 - INFO     -  4.907| waiting  0.993s until next acquisition
02:18:51 - microscope.py 	 - INFO     -  6.905| acquiring image: 2000ms
02:18:51 - controller.py 	 - ERROR    - Process <pyclm.core.microscope.MicroscopeProcess object at 0x1240f0850> crashed with exception: 'Position (50.0, -0.0) not found in image_positions.yaml'
02:18:51 - controller.py 	 - ERROR    - Exception during run: 'Position (50.0, -0.0) not found in image_positions.yaml'
02:18:51 - controller.py 	 - ERROR    - Traceback (most recent call last):
  File "/Users/justingubbens/Documents/GitHub/PyCLM/src/pyclm/controller.py", line 176, in run
    raise exc
  File "/Users/justingubbens/.local/share/uv/python/cpython-3.11.14-macos-aarch64-none/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/justingubbens/Documents/GitHub/PyCLM/src/pyclm/core/microscope.py", line 97, in process
    self.handle_acquisition_event(msg.event)
  File "/Users/justingubbens/Documents/GitHub/PyCLM/src/pyclm/core/microscope.py", line 298, in handle_acquisition_event
    image = self.snap()
            ^^^^^^^^^^^
  File "/Users/justingubbens/Documents/GitHub/PyCLM/src/pyclm/core/microscope.py", line 316, in snap
    core.snapImage()
  File "/Users/justingubbens/Documents/GitHub/PyCLM/src/pyclm/core/virtual_microscope/simulated_core.py", line 160, in snapImage
    frame = np.asarray(self._image_source.next_frame([self._x, self._y]))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/justingubbens/Documents/GitHub/PyCLM/src/pyclm/core/virtual_microscope/simulated_source.py", line 60, in next_frame
    raise KeyError(f"Position {pos} not found in image_positions.yaml")
KeyError: 'Position (50.0, -0.0) not found in image_positions.yaml'

02:18:51 - controller.py 	 - INFO     - Waiting for all processes to exit...
02:18:51 - base_process.py 	 - INFO     - Force closing segmentation
02:18:51 - base_process.py 	 - INFO     - Stopped segmentation
02:18:51 - base_process.py 	 - INFO     - Force closing microscope outbox
02:18:51 - base_process.py 	 - INFO     - Force closing pattern
02:18:51 - base_process.py 	 - INFO     - Stopped pattern
02:18:51 - base_process.py 	 - INFO     - Force closing slm buffer
02:18:51 - base_process.py 	 - INFO     - Stopped slm buffer
02:18:51 - base_process.py 	 - INFO     - Stopped microscope outbox
02:18:51 - controller.py 	 - INFO     - Controller run finished.
02:20:31 - run_pyclm.py 	 - INFO     - loaded config from pyclm_config.toml
02:20:40 - run_pyclm.py 	 - INFO     - loaded config from pyclm_config.toml
02:20:40 - controller.py 	 - INFO     - camera properties: CameraProperties(roi=ROI(x_offset=0, y_offset=0, width=512, height=512), pixel_size_um=0.108)
02:20:40 - pattern_process.py 	 - INFO     - initializing pattern model "circle"
02:20:40 - pattern_process.py 	 - INFO     - initializing pattern model "circle"
02:20:40 - pattern.py   	 - INFO     - model circle updated pixel size (um) to 0.432
02:20:40 - pattern.py   	 - INFO     - model circle updated pattern_shape to (128.0, 128.0)
02:20:40 - pattern.py   	 - INFO     - model circle updated pixel size (um) to 0.432
02:20:40 - pattern.py   	 - INFO     - model circle updated pattern_shape to (128.0, 128.0)
02:20:40 - microscope.py 	 - WARNING  - SLM Device not initialized, using dummy slm
02:20:40 - base_process.py 	 - INFO     - Started microscope outbox
02:20:40 - base_process.py 	 - INFO     - Started slm buffer
02:20:40 - base_process.py 	 - INFO     - Started segmentation
02:20:40 - base_process.py 	 - INFO     - Started pattern
02:20:40 - microscope.py 	 - INFO     - moving to xy [0.0, 0.0]
02:20:40 - microscope.py 	 - INFO     - moving to z position 0.0
02:20:40 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:20:40 - microscope.py 	 - INFO     - move+focus took 0.001
02:20:40 - microscope.py 	 - INFO     - experiment on.00: dummy slm set image
02:20:40 - microscope.py 	 - INFO     - setting config groups:
02:20:40 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:20:40 - microscope.py 	 - INFO     - System = Startup
02:20:40 - microscope.py 	 - INFO     - Channel = DMD
02:20:40 - microscope.py 	 - INFO     - LightPath = DMD
02:20:40 - microscope.py 	 - INFO     - Laser-Intensity = AllOff
02:20:40 - microscope.py 	 - INFO     - Sola = 30
02:20:40 - microscope.py 	 - INFO     - setting device properties:
02:20:40 - microscope.py 	 - INFO     -  0.007| waiting  2.893s until next acquisition
02:20:40 - manager.py   	 - INFO     - SLM buffer received data from slm
02:20:40 - manager.py   	 - INFO     - SLM buffer received data from slm
02:20:44 - microscope.py 	 - INFO     -  3.910| acquiring image: 1000ms
02:20:44 - microscope.py 	 - INFO     -  3.911| image acquired
02:20:44 - microscope.py 	 - INFO     - setting config groups:
02:20:44 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:20:44 - microscope.py 	 - INFO     - System = Startup
02:20:44 - microscope.py 	 - INFO     - Laser-Intensity = 70%
02:20:44 - microscope.py 	 - INFO     - LightPath = Fluor
02:20:44 - microscope.py 	 - INFO     - Channel = 638
02:20:44 - microscope.py 	 - INFO     - setting device properties:
02:20:45 - microscope.py 	 - INFO     -  4.912| acquiring image: 2000ms
02:20:45 - microscope.py 	 - INFO     -  4.913| image acquired
02:20:45 - microscope.py 	 - INFO     - moving to xy [500.0, 0.0]
02:20:45 - microscope.py 	 - INFO     - moving to z position 0.0
02:20:45 - microscope.py 	 - INFO     - setting pfs offset 0.0
02:20:45 - microscope.py 	 - INFO     - move+focus took 0.000
02:20:45 - microscope.py 	 - INFO     - setting config groups:
02:20:45 - microscope.py 	 - INFO     - Objective = 1-Plan Apo LmbdD0.80 20x
02:20:45 - microscope.py 	 - INFO     - System = Startup
02:20:45 - microscope.py 	 - INFO     - Laser-Intensity = 70%
02:20:45 - microscope.py 	 - INFO     - LightPath = Fluor
02:20:45 - microscope.py 	 - INFO     - Channel = 638
02:20:45 - microscope.py 	 - INFO     - setting device properties:
02:20:45 - microscope.py 	 - INFO     -  4.913| waiting  0.987s until next acquisition
02:20:47 - microscope.py 	 - INFO     -  6.905| acquiring image: 2000ms
02:20:47 - microscope.py 	 - INFO     -  6.906| image acquired
02:20:52 - controller.py 	 - WARNING  - KeyboardInterrupt caught in controller. Stopping all processes.
02:20:52 - controller.py 	 - INFO     - Waiting for all processes to exit...
02:20:52 - base_process.py 	 - INFO     - Force closing segmentation
02:20:52 - base_process.py 	 - INFO     - Stopped segmentation
02:20:52 - base_process.py 	 - INFO     - Force closing pattern
02:20:52 - base_process.py 	 - INFO     - Force closing microscope outbox
02:20:52 - base_process.py 	 - INFO     - Stopped microscope outbox
02:20:52 - base_process.py 	 - INFO     - Force closing slm buffer
02:20:52 - base_process.py 	 - INFO     - Stopped slm buffer
02:20:52 - base_process.py 	 - INFO     - Stopped pattern
02:20:52 - controller.py 	 - INFO     - Controller run finished.
